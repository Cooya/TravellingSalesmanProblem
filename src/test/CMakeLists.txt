cmake_minimum_required(VERSION 2.6)
project (VDC) 

enable_testing()

add_test(test_NN ../bin/VDC -nn ../tsp/bays29.tsp)
set_tests_properties(test_NN PROPERTIES PASS_REGULAR_EXPRESSION "1 -\\> 28 -\\> 6 -\\> 12 -\\> 9 -\\> 5 -\\> 26 -\\> 29 -\\> 3 -\\> 2 -\\> 21 -\\> 20 -\\> 10 -\\> 4 -\\> 15 -\\> 18 -\\> 14 -\\> 22 -\\> 17 -\\> 11 -\\> 19 -\\> 16 -\\> 27 -\\> 24 -\\> 8 -\\> 23 -\\> 25 -\\> 7 -\\> 13 -\\> 1")
set_tests_properties(test_NN PROPERTIES PASS_REGULAR_EXPRESSION "2258.000000")

add_test(test_MST ../bin/VDC -mst ../tsp/bays29.tsp)
set_tests_properties(test_MST PROPERTIES PASS_REGULAR_EXPRESSION "1 -\\> 28 -\\> 6 -\\> 12 -\\> 5 -\\> 9 -\\> 26 -\\> 29 -\\> 3 -\\> 21 -\\> 2 -\\> 24 -\\> 27 -\\> 8 -\\> 16 -\\> 19 -\\> 15 -\\> 4 -\\> 10 -\\> 20 -\\> 13 -\\> 18 -\\> 14 -\\> 22 -\\> 17 -\\> 11 -\\> 25 -\\> 7 -\\> 23 -\\> 1")
set_tests_properties(test_MST PROPERTIES PASS_REGULAR_EXPRESSION "2423.000000")

add_test(test_BF ../bin/VDC -bf ../tsp/exemple10.tsp)
set_tests_properties(test_BF PROPERTIES PASS_REGULAR_EXPRESSION "1 -\\> 3 -\\> 6 -\\> 7 -\\> 9 -\\> 10 -\\> 8 -\\> 5 -\\> 4 -\\> 2 -\\> 1")
set_tests_properties(test_BF PROPERTIES PASS_REGULAR_EXPRESSION "42.000000")

add_test(test_BB ../bin/VDC -bb ../tsp/exemple10.tsp)
set_tests_properties(test_BB PROPERTIES PASS_REGULAR_EXPRESSION "1 -\\> 2 -\\> 4 -\\> 5 -\\> 8 -\\> 10 -\\> 9 -\\> 7 -\\> 6 -\\> 3 -\\> 1")
set_tests_properties(test_BB PROPERTIES PASS_REGULAR_EXPRESSION "42.000000")

add_test(test_TSP_BAYS29 ../bin/VDC -v ../tsp/bays29.tsp)
set_tests_properties(test_TSP_BAYS29 PROPERTIES PASS_REGULAR_EXPRESSION "City 0 ;X=1150.000000 Y=1760.000000 ;Dists\\[\\] :  0.000000 107.000000 241.000000 190.000000 124.000000 80.000000 316.000000 76.000000 152.000000 157.000000 283.000000 133.000000 113.000000 297.000000 228.000000 129.000000 348.000000 276.000000 188.000000 150.000000 65.000000 341.000000 184.000000 67.000000 221.000000 169.000000 108.000000 45.000000 167.000000;City 1 ;X=630.000000 Y=1660.000000 ;Dists\\[\\] :  107.000000 0.000000 148.000000 137.000000 88.000000 127.000000 336.000000 183.000000 134.000000 95.000000 254.000000 180.000000 101.000000 234.000000 175.000000 176.000000 265.000000 199.000000 182.000000 67.000000 42.000000 278.000000 271.000000 146.000000 251.000000 105.000000 191.000000 139.000000 79.000000;City 2 ;X=40.000000 Y=2090.000000 ;Dists\\[\\] :  241.000000 148.000000 0.000000 374.000000 171.000000 259.000000 509.000000 317.000000 217.000000 232.000000 491.000000 312.000000 280.000000 391.000000 412.000000 349.000000 422.000000 356.000000 355.000000 204.000000 182.000000 435.000000 417.000000 292.000000 424.000000 116.000000 337.000000 273.000000 77.000000;City 3 ;X=750.000000 Y=1100.000000 ;Dists\\[\\] :  190.000000 137.000000 374.000000 0.000000 202.000000 234.000000 222.000000 192.000000 248.000000 42.000000 117.000000 287.000000 79.000000 107.000000 38.000000 121.000000 152.000000 86.000000 68.000000 70.000000 137.000000 151.000000 239.000000 135.000000 137.000000 242.000000 165.000000 228.000000 205.000000;City 4 ;X=750.000000 Y=2030.000000 ;Dists\\[\\] :  124.000000 88.000000 171.000000 202.000000 0.000000 61.000000 392.000000 202.000000 46.000000 160.000000 319.000000 112.000000 163.000000 322.000000 240.000000 232.000000 314.000000 287.000000 238.000000 155.000000 65.000000 366.000000 300.000000 175.000000 307.000000 57.000000 220.000000 121.000000 97.000000;City 5 ;X=1030.000000 Y=2070.000000 ;Dists\\[\\] :  80.000000 127.000000 259.000000 234.000000 61.000000 0.000000 386.000000 141.000000 72.000000 167.000000 351.000000 55.000000 157.000000 331.000000 272.000000 226.000000 362.000000 296.000000 232.000000 164.000000 85.000000 375.000000 249.000000 147.000000 301.000000 118.000000 188.000000 60.000000 185.000000;City 6 ;X=1650.000000 Y=650.000000 ;Dists\\[\\] :  316.000000 336.000000 509.000000 222.000000 392.000000 386.000000 0.000000 233.000000 438.000000 254.000000 202.000000 439.000000 235.000000 254.000000 210.000000 187.000000 313.000000 266.000000 154.000000 282.000000 321.000000 298.000000 168.000000 249.000000 95.000000 437.000000 190.000000 314.000000 435.000000;City 7 ;X=1490.000000 Y=1630.000000 ;Dists\\[\\] :  76.000000 183.000000 317.000000 192.000000 202.000000 141.000000 233.000000 0.000000 213.000000 188.000000 272.000000 193.000000 131.000000 302.000000 233.000000 98.000000 344.000000 289.000000 177.000000 216.000000 141.000000 346.000000 108.000000 57.000000 190.000000 245.000000 43.000000 81.000000 243.000000;City 8 ;X=790.000000 Y=2260.000000 ;Dists\\[\\] :  152.000000 134.000000 217.000000 248.000000 46.000000 72.000000 438.000000 213.000000 0.000000 206.000000 365.000000 89.000000 209.000000 368.000000 286.000000 278.000000 360.000000 333.000000 284.000000 201.000000 111.000000 412.000000 321.000000 221.000000 353.000000 72.000000 266.000000 132.000000 111.000000;City 9 ;X=710.000000 Y=1310.000000 ;Dists\\[\\] :  157.000000 95.000000 232.000000 42.000000 160.000000 167.000000 254.000000 188.000000 206.000000 0.000000 159.000000 220.000000 57.000000 149.000000 80.000000 132.000000 193.000000 127.000000 100.000000 28.000000 95.000000 193.000000 241.000000 131.000000 169.000000 200.000000 161.000000 189.000000 163.000000;City 10 ;X=840.000000 Y=550.000000 ;Dists\\[\\] :  283.000000 254.000000 491.000000 117.000000 319.000000 351.000000 202.000000 272.000000 365.000000 159.000000 0.000000 404.000000 176.000000 106.000000 79.000000 161.000000 165.000000 141.000000 95.000000 187.000000 254.000000 103.000000 279.000000 215.000000 117.000000 359.000000 216.000000 308.000000 322.000000;City 11 ;X=1170.000000 Y=2300.000000 ;Dists\\[\\] :  133.000000 180.000000 312.000000 287.000000 112.000000 55.000000 439.000000 193.000000 89.000000 220.000000 404.000000 0.000000 210.000000 384.000000 325.000000 279.000000 415.000000 349.000000 285.000000 217.000000 138.000000 428.000000 310.000000 200.000000 354.000000 169.000000 241.000000 112.000000 238.000000;City 12 ;X=970.000000 Y=1340.000000 ;Dists\\[\\] :  113.000000 101.000000 280.000000 79.000000 163.000000 157.000000 235.000000 131.000000 209.000000 57.000000 176.000000 210.000000 0.000000 186.000000 117.000000 75.000000 231.000000 165.000000 81.000000 85.000000 92.000000 230.000000 184.000000 74.000000 150.000000 208.000000 104.000000 158.000000 206.000000;City 13 ;X=510.000000 Y=700.000000 ;Dists\\[\\] :  297.000000 234.000000 391.000000 107.000000 322.000000 331.000000 254.000000 302.000000 368.000000 149.000000 106.000000 384.000000 186.000000 0.000000 69.000000 191.000000 59.000000 35.000000 125.000000 167.000000 255.000000 44.000000 309.000000 245.000000 169.000000 327.000000 246.000000 335.000000 288.000000;City 14 ;X=750.000000 Y=900.000000 ;Dists\\[\\] :  228.000000 175.000000 412.000000 38.000000 240.000000 272.000000 210.000000 233.000000 286.000000 80.000000 79.000000 325.000000 117.000000 69.000000 0.000000 122.000000 122.000000 56.000000 56.000000 108.000000 175.000000 113.000000 240.000000 176.000000 125.000000 280.000000 177.000000 266.000000 243.000000;City 15 ;X=1280.000000 Y=1200.000000 ;Dists\\[\\] :  129.000000 176.000000 349.000000 121.000000 232.000000 226.000000 187.000000 98.000000 278.000000 132.000000 161.000000 279.000000 75.000000 191.000000 122.000000 0.000000 244.000000 178.000000 66.000000 160.000000 161.000000 235.000000 118.000000 62.000000 92.000000 277.000000 55.000000 155.000000 275.000000;City 16 ;X=230.000000 Y=590.000000 ;Dists\\[\\] :  348.000000 265.000000 422.000000 152.000000 314.000000 362.000000 313.000000 344.000000 360.000000 193.000000 165.000000 415.000000 231.000000 59.000000 122.000000 244.000000 0.000000 66.000000 178.000000 198.000000 286.000000 77.000000 362.000000 287.000000 228.000000 358.000000 299.000000 380.000000 319.000000;City 17 ;X=460.000000 Y=860.000000 ;Dists\\[\\] :  276.000000 199.000000 356.000000 86.000000 287.000000 296.000000 266.000000 289.000000 333.000000 127.000000 141.000000 349.000000 165.000000 35.000000 56.000000 178.000000 66.000000 0.000000 112.000000 132.000000 220.000000 79.000000 296.000000 232.000000 181.000000 292.000000 233.000000 314.000000 253.000000;City 18 ;X=1040.000000 Y=950.000000 ;Dists\\[\\] :  188.000000 182.000000 355.000000 68.000000 238.000000 232.000000 154.000000 177.000000 284.000000 100.000000 95.000000 285.000000 81.000000 125.000000 56.000000 66.000000 178.000000 112.000000 0.000000 128.000000 167.000000 169.000000 179.000000 120.000000 69.000000 283.000000 121.000000 213.000000 281.000000;City 19 ;X=590.000000 Y=1390.000000 ;Dists\\[\\] :  150.000000 67.000000 204.000000 70.000000 155.000000 164.000000 282.000000 216.000000 201.000000 28.000000 187.000000 217.000000 85.000000 167.000000 108.000000 160.000000 198.000000 132.000000 128.000000 0.000000 88.000000 211.000000 269.000000 159.000000 197.000000 172.000000 189.000000 182.000000 135.000000;City 20 ;X=830.000000 Y=1770.000000 ;Dists\\[\\] :  65.000000 42.000000 182.000000 137.000000 65.000000 85.000000 321.000000 141.000000 111.000000 95.000000 254.000000 138.000000 92.000000 255.000000 175.000000 161.000000 286.000000 220.000000 167.000000 88.000000 0.000000 299.000000 229.000000 104.000000 236.000000 110.000000 149.000000 97.000000 108.000000;City 21 ;X=490.000000 Y=500.000000 ;Dists\\[\\] :  341.000000 278.000000 435.000000 151.000000 366.000000 375.000000 298.000000 346.000000 412.000000 193.000000 103.000000 428.000000 230.000000 44.000000 113.000000 235.000000 77.000000 79.000000 169.000000 211.000000 299.000000 0.000000 353.000000 289.000000 213.000000 371.000000 290.000000 379.000000 332.000000;City 22 ;X=1840.000000 Y=1240.000000 ;Dists\\[\\] :  184.000000 271.000000 417.000000 239.000000 300.000000 249.000000 168.000000 108.000000 321.000000 241.000000 279.000000 310.000000 184.000000 309.000000 240.000000 118.000000 362.000000 296.000000 179.000000 269.000000 229.000000 353.000000 0.000000 121.000000 162.000000 345.000000 80.000000 189.000000 342.000000;City 23 ;X=1260.000000 Y=1500.000000 ;Dists\\[\\] :  67.000000 146.000000 292.000000 135.000000 175.000000 147.000000 249.000000 57.000000 221.000000 131.000000 215.000000 200.000000 74.000000 245.000000 176.000000 62.000000 287.000000 232.000000 120.000000 159.000000 104.000000 289.000000 121.000000 0.000000 154.000000 220.000000 41.000000 93.000000 218.000000;City 24 ;X=1280.000000 Y=790.000000 ;Dists\\[\\] :  221.000000 251.000000 424.000000 137.000000 307.000000 301.000000 95.000000 190.000000 353.000000 169.000000 117.000000 354.000000 150.000000 169.000000 125.000000 92.000000 228.000000 181.000000 69.000000 197.000000 236.000000 213.000000 162.000000 154.000000 0.000000 352.000000 147.000000 247.000000 350.000000;City 25 ;X=490.000000 Y=2130.000000 ;Dists\\[\\] :  169.000000 105.000000 116.000000 242.000000 57.000000 118.000000 437.000000 245.000000 72.000000 200.000000 359.000000 169.000000 208.000000 327.000000 280.000000 277.000000 358.000000 292.000000 283.000000 172.000000 110.000000 371.000000 345.000000 220.000000 352.000000 0.000000 265.000000 178.000000 39.000000;City 26 ;X=1460.000000 Y=1420.000000 ;Dists\\[\\] :  108.000000 191.000000 337.000000 165.000000 220.000000 188.000000 190.000000 43.000000 266.000000 161.000000 216.000000 241.000000 104.000000 246.000000 177.000000 55.000000 299.000000 233.000000 121.000000 189.000000 149.000000 290.000000 80.000000 41.000000 147.000000 265.000000 0.000000 124.000000 263.000000;City 27 ;X=1260.000000 Y=1910.000000 ;Dists\\[\\] :  45.000000 139.000000 273.000000 228.000000 121.000000 60.000000 314.000000 81.000000 132.000000 189.000000 308.000000 112.000000 158.000000 335.000000 266.000000 155.000000 380.000000 314.000000 213.000000 182.000000 97.000000 379.000000 189.000000 93.000000 247.000000 178.000000 124.000000 0.000000 199.000000;City 28 ;X=360.000000 Y=1980.000000 ;Dists\\[\\] :  167.000000 79.000000 77.000000 205.000000 97.000000 185.000000 435.000000 243.000000 111.000000 163.000000 322.000000 238.000000 206.000000 288.000000 243.000000 275.000000 319.000000 253.000000 281.000000 135.000000 108.000000 332.000000 342.000000 218.000000 350.000000 39.000000 263.000000 199.000000 0.000000")

add_test(test_TSP_EXEMPLE10 ../bin/VDC -v ../tsp/exemple10.tsp)
set_tests_properties(test_TSP_EXEMPLE10 PROPERTIES PASS_REGULAR_EXPRESSION "City 0 ;X=1.000000 Y=1.000000 ;Dists\\[\\] :  0.000000 9.000000 4.000000 11.000000 10.000000 8.000000 8.000000 13.000000 10.000000 16.000000;City 1 ;X=1.000000 Y=10.000000 ;Dists\\[\\] :  9.000000 0.000000 7.000000 2.000000 7.000000 9.000000 13.000000 10.000000 15.000000 11.000000;City 2 ;X=2.000000 Y=4.000000 ;Dists\\[\\] :  4.000000 7.000000 0.000000 7.000000 6.000000 4.000000 6.000000 9.000000 8.000000 12.000000;City 3 ;X=3.000000 Y=10.000000 ;Dists\\[\\] :  11.000000 2.000000 7.000000 0.000000 5.000000 7.000000 11.000000 8.000000 13.000000 9.000000;City 4 ;X=5.000000 Y=7.000000 ;Dists\\[\\] :  10.000000 7.000000 6.000000 5.000000 0.000000 2.000000 6.000000 3.000000 8.000000 6.000000;City 5 ;X=5.000000 Y=5.000000 ;Dists\\[\\] :  8.000000 9.000000 4.000000 7.000000 2.000000 0.000000 4.000000 5.000000 6.000000 8.000000;City 6 ;X=7.000000 Y=3.000000 ;Dists\\[\\] :  8.000000 13.000000 6.000000 11.000000 6.000000 4.000000 0.000000 5.000000 2.000000 8.000000;City 7 ;X=8.000000 Y=7.000000 ;Dists\\[\\] :  13.000000 10.000000 9.000000 8.000000 3.000000 5.000000 5.000000 0.000000 5.000000 3.000000;City 8 ;X=9.000000 Y=3.000000 ;Dists\\[\\] :  10.000000 15.000000 8.000000 13.000000 8.000000 6.000000 2.000000 5.000000 0.000000 6.000000;City 9 ;X=10.000000 Y=8.000000 ;Dists\\[\\] :  16.000000 11.000000 12.000000 9.000000 6.000000 8.000000 8.000000 3.000000 6.000000 0.000000;")

add_test(test_TSP_EXEMPLE14 ../bin/VDC -v ../tsp/exemple14.tsp)

set_tests_properties(test_TSP_EXEMPLE14 PROPERTIES PASS_REGULAR_EXPRESSION "City 0 ;X=16.470000 Y=96.100000 ;Dists\\[\\] :  0.000000 1.660000 5.077200 6.519150 8.833870 5.530230 4.104440 0.754321 1.291240 3.152270 1.281410 5.075690 3.115200 3.937880;City 1 ;X=16.470000 Y=94.440000 ;Dists\\[\\] :  1.660000 0.000000 4.088320 6.015920 9.196610 5.759600 4.759870 1.988820 2.944910 4.404410 2.940610 5.179290 3.984930 3.621670;City 2 ;X=20.090000 Y=92.540000 ;Dists\\[\\] :  5.077200 4.088320 0.000000 2.445180 6.964880 3.996020 4.496090 4.734410 6.147330 8.223020 6.008260 3.368590 4.640100 2.010000;City 3 ;X=22.390000 Y=93.370000 ;Dists\\[\\] :  6.519150 6.015920 2.445180 0.000000 4.800260 2.708230 4.124180 5.955040 7.291650 9.597820 7.100680 2.384390 4.797710 2.585030;City 4 ;X=25.230000 Y=97.240000 ;Dists\\[\\] :  8.833870 9.196610 6.964880 4.800260 0.000000 3.442240 4.765080 8.086000 8.931100 11.214600 8.701130 4.060370 5.821040 5.801350;City 5 ;X=22.000000 Y=96.050000 ;Dists\\[\\] :  5.530230 5.759600 3.996020 2.708230 3.442240 0.000000 1.811570 4.806000 5.853110 8.215070 5.629370 0.664831 2.806150 2.428600;City 6 ;X=20.470000 Y=97.020000 ;Dists\\[\\] :  4.104440 4.759870 4.496090 4.124180 4.765080 1.811570 0.000000 3.350490 4.185510 6.513560 3.956410 1.774090 1.065690 2.499060;City 7 ;X=17.200000 Y=96.290000 ;Dists\\[\\] :  0.754321 1.988820 4.734410 5.955040 8.086000 4.806000 3.350490 0.000000 1.413540 3.642990 1.279450 4.376350 2.364250 3.373380;City 8 ;X=16.300000 Y=97.380000 ;Dists\\[\\] :  1.291240 2.944910 6.147330 7.291650 8.931100 5.853110 4.185510 1.413540 0.000000 2.368560 0.230000 5.518380 3.120030 4.730010;City 9 ;X=14.050000 Y=98.120000 ;Dists\\[\\] :  3.152270 4.404410 8.223020 9.597820 11.214600 8.215070 6.513560 3.642990 2.368560 0.000000 2.588050 7.886810 5.450660 7.016160;City 10 ;X=16.530000 Y=97.380000 ;Dists\\[\\] :  1.281410 2.940610 6.008260 7.100680 8.701130 5.629370 3.956410 1.279450 0.230000 2.588050 0.000000 5.301340 2.890830 4.547800;City 11 ;X=21.520000 Y=95.590000 ;Dists\\[\\] :  5.075690 5.179290 3.368590 2.384390 4.060370 0.664831 1.774090 4.376350 5.518380 7.886810 5.301340 0.000000 2.612220 1.768190;City 12 ;X=19.410000 Y=97.130000 ;Dists\\[\\] :  3.115200 3.984930 4.640100 4.797710 5.821040 2.806150 1.065690 2.364250 3.120030 5.450660 2.890830 2.612220 0.000000 2.668110;City 13 ;X=20.090000 Y=94.550000 ;Dists\\[\\] :  3.937880 3.621670 2.010000 2.585030 5.801350 2.428600 2.499060 3.373380 4.730010 7.016160 4.547800 1.768190 2.668110 0.000000;")
